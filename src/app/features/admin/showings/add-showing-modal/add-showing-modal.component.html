<!-- Modal background -->
<div *ngIf="isOpen" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white p-6 rounded-lg w-3/4 max-w-2xl relative shadow-lg">

    <!-- Close button -->
    <button (click)="closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-3xl">
      <svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>

    <!-- Form content -->
    <h2 class="text-2xl font-bold mb-4 text-gray-800">{{ isEditMode ? 'Editar Función' : 'Agregar Función' }}</h2>
    <form (ngSubmit)="submitForm()" #functionForm="ngForm">
      <div class="bg-white rounded px-8 pt-6 pb-8 mb-4 flex flex-col">

        <!-- Selección de la película -->
        <div class="mb-6">
          <label class="uppercase tracking-wide text-black text-xs font-bold mb-2" for="movieName">
            Película*
          </label>
          <select class="w-full bg-gray-200 border border-gray-200 text-black py-3 px-4 rounded" id="movieName"
            [(ngModel)]="showing.movie.id" name="movieName" required>
            <!-- <option *ngFor="let movie of movies" [value]="movie.id">{{ movie.name }}</option> -->
          </select>
        </div>

        <div class="flex flex-row gap-4">
          <!-- Día -->
          <div class="mb-6 w-1/2">
            <label class="uppercase tracking-wide text-black text-xs font-bold mb-2" for="showingDate">
              Día*
            </label>
            <input class="w-full bg-gray-200 text-black border border-gray-200 rounded py-3 px-4" id="showingDate"
              type="date" [(ngModel)]="showing.showingDate" name="showingDate" required>
          </div>

          <!-- Horario -->
          <div class="w-1/2">
            <label class="uppercase tracking-wide text-black text-xs font-bold mb-2" for="startTime">
              Hora de Inicio*
            </label>
            <input class="w-full bg-gray-200 text-black border border-gray-200 rounded py-3 px-4" id="startTime"
              type="time" [(ngModel)]="showing.startTime" name="startTime" required>
          </div>
        </div>


        <!-- Selección de la sala -->
        <div class="mb-6">
          <label class="uppercase tracking-wide text-black text-xs font-bold mb-2" for="roomNumber">
            Sala*
          </label>
          <select class="w-full bg-gray-200 border border-gray-200 text-black py-3 px-4 rounded" id="roomNumber"
            [(ngModel)]="showing.room.id" name="roomNumber" required>
            <option *ngFor="let room of rooms" [value]="room.id">Sala {{ room.roomNumber }} - {{ room.type }}</option>
          </select>
        </div>

        <!-- Botón de enviar -->
        <div class="mt-4 flex justify-center">
          <button type="submit"
            class="w-full max-w-xs bg-[#121826] text-white font-semibold py-2 px-4 shadow-md transform hover:scale-105 transition-transform duration-300 rounded-full hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#121826]">
            {{ isEditMode ? 'Editar Función' : 'Agregar Función' }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
